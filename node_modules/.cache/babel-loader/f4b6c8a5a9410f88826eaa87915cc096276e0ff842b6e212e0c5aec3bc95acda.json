{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\Administrator\\\\CascadeProjects\\\\AIMiner\\\\src\\\\pages\\\\NFTMarket.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport { injected } from '../utils/connectors';\nimport { ethers } from 'ethers';\n\n// 合约地址和ABI\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MYSTERY_BOX_ADDRESS = \"YOUR_MYSTERY_BOX_CONTRACT_ADDRESS\";\nconst ZONE_TOKEN_ADDRESS = \"YOUR_TOKEN_CONTRACT_ADDRESS\";\nconst MYSTERY_BOX_ABI = [\"function getMarketListing(uint256 tokenId) external view returns (tuple(address seller, uint256 price, bool isActive))\", \"function getNFTAttributes(uint256 tokenId) external view returns (tuple(uint8 rarity, uint256 power, uint256 dailyReward, uint256 maxReward))\", \"function getOwnedNFTs(address user) external view returns (uint256[])\", \"function listNFT(uint256 tokenId, uint256 price) external\", \"function unlistNFT(uint256 tokenId) external\", \"function buyNFT(uint256 tokenId) external\", \"function approve(address to, uint256 tokenId) external\", \"function isApprovedForAll(address owner, address operator) external view returns (bool)\", \"function setApprovalForAll(address operator, bool approved) external\"];\nconst ZONE_TOKEN_ABI = [\"function approve(address spender, uint256 amount) external returns (bool)\", \"function allowance(address owner, address spender) external view returns (uint256)\", \"function balanceOf(address account) external view returns (uint256)\"];\nconst NFT_RARITY = ['N', 'R', 'SR', 'SSR'];\nconst NFTMarket = () => {\n  _s();\n  const {\n    active,\n    account,\n    activate,\n    library\n  } = useWeb3React();\n  const [marketItems, setMarketItems] = useState([]);\n  const [myNFTs, setMyNFTs] = useState([]);\n  const [selectedTab, setSelectedTab] = useState('market');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isApproving, setIsApproving] = useState(false);\n  const connectWallet = async () => {\n    try {\n      await activate(injected);\n    } catch (error) {\n      console.error('Error connecting wallet:', error);\n    }\n  };\n  const loadMarketData = async () => {\n    try {\n      const contract = new ethers.Contract(MYSTERY_BOX_ADDRESS, MYSTERY_BOX_ABI, library.getSigner());\n\n      // 加载我的NFT\n      const myTokenIds = await contract.getOwnedNFTs(account);\n      const myNFTsData = await Promise.all(myTokenIds.map(async tokenId => {\n        const attributes = await contract.getNFTAttributes(tokenId);\n        const listing = await contract.getMarketListing(tokenId);\n        return {\n          id: tokenId.toString(),\n          type: NFT_RARITY[attributes.rarity],\n          power: attributes.power.toString(),\n          dailyReward: ethers.utils.formatEther(attributes.dailyReward),\n          maxReward: ethers.utils.formatEther(attributes.maxReward),\n          listed: listing.isActive,\n          price: listing.isActive ? ethers.utils.formatEther(listing.price) : null\n        };\n      }));\n      setMyNFTs(myNFTsData);\n\n      // 加载市场列表\n      // 这里需要一个获取所有市场挂单的方法，暂时使用模拟数据\n      const marketListings = []; // 这里应该从合约获取所有活跃的挂单\n      const marketItemsData = await Promise.all(marketListings.map(async tokenId => {\n        const attributes = await contract.getNFTAttributes(tokenId);\n        const listing = await contract.getMarketListing(tokenId);\n        return {\n          id: tokenId.toString(),\n          type: NFT_RARITY[attributes.rarity],\n          power: attributes.power.toString(),\n          dailyReward: ethers.utils.formatEther(attributes.dailyReward),\n          maxReward: ethers.utils.formatEther(attributes.maxReward),\n          price: ethers.utils.formatEther(listing.price),\n          seller: listing.seller\n        };\n      }));\n      setMarketItems(marketItemsData);\n      setIsLoading(false);\n    } catch (error) {\n      console.error('Error loading market data:', error);\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (active) {\n      loadMarketData();\n    }\n  }, [active, account]);\n  const checkAndApproveToken = async price => {\n    const tokenContract = new ethers.Contract(ZONE_TOKEN_ADDRESS, ZONE_TOKEN_ABI, library.getSigner());\n    const allowance = await tokenContract.allowance(account, MYSTERY_BOX_ADDRESS);\n    if (allowance.lt(price)) {\n      setIsApproving(true);\n      try {\n        const tx = await tokenContract.approve(MYSTERY_BOX_ADDRESS, price.mul(2));\n        await tx.wait();\n        setIsApproving(false);\n        return true;\n      } catch (error) {\n        console.error('Error approving token:', error);\n        setIsApproving(false);\n        return false;\n      }\n    }\n    return true;\n  };\n  const handleBuy = async nftId => {\n    try {\n      const contract = new ethers.Contract(MYSTERY_BOX_ADDRESS, MYSTERY_BOX_ABI, library.getSigner());\n      const listing = await contract.getMarketListing(nftId);\n\n      // 检查并授权代币\n      const approved = await checkAndApproveToken(listing.price);\n      if (!approved) {\n        alert('代币授权失败');\n        return;\n      }\n\n      // 购买NFT\n      const tx = await contract.buyNFT(nftId);\n      await tx.wait();\n      alert('购买成功！');\n      loadMarketData();\n    } catch (error) {\n      console.error('Error buying NFT:', error);\n      alert('购买失败: ' + error.message);\n    }\n  };\n  const handleList = async nftId => {\n    try {\n      const price = prompt('请输入上架价格 (ZONE):');\n      if (!price) return;\n      const contract = new ethers.Contract(MYSTERY_BOX_ADDRESS, MYSTERY_BOX_ABI, library.getSigner());\n\n      // 检查NFT授权\n      const isApproved = await contract.isApprovedForAll(account, MYSTERY_BOX_ADDRESS);\n      if (!isApproved) {\n        const approveTx = await contract.setApprovalForAll(MYSTERY_BOX_ADDRESS, true);\n        await approveTx.wait();\n      }\n\n      // 上架NFT\n      const priceWei = ethers.utils.parseEther(price);\n      const tx = await contract.listNFT(nftId, priceWei);\n      await tx.wait();\n      alert('上架成功！');\n      loadMarketData();\n    } catch (error) {\n      console.error('Error listing NFT:', error);\n      alert('上架失败: ' + error.message);\n    }\n  };\n  const handleDelist = async nftId => {\n    try {\n      const contract = new ethers.Contract(MYSTERY_BOX_ADDRESS, MYSTERY_BOX_ABI, library.getSigner());\n      const tx = await contract.unlistNFT(nftId);\n      await tx.wait();\n      alert('下架成功！');\n      loadMarketData();\n    } catch (error) {\n      console.error('Error delisting NFT:', error);\n      alert('下架失败: ' + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto bg-binance-dark p-6 rounded-lg shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold text-binance-yellow mb-6\",\n      children: \"NFT \\u4EA4\\u6613\\u5E02\\u573A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), !active ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: connectWallet,\n      className: \"w-full bg-binance-yellow text-binance-dark font-bold py-3 px-4 rounded-lg hover:opacity-90 transition-opacity\",\n      children: \"\\u8FDE\\u63A5\\u94B1\\u5305\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4 border-b border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `px-4 py-2 ${selectedTab === 'market' ? 'text-binance-yellow border-b-2 border-binance-yellow' : 'text-gray-400'}`,\n          onClick: () => setSelectedTab('market'),\n          children: \"\\u5E02\\u573A\\u5217\\u8868\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `px-4 py-2 ${selectedTab === 'my-nfts' ? 'text-binance-yellow border-b-2 border-binance-yellow' : 'text-gray-400'}`,\n          onClick: () => setSelectedTab('my-nfts'),\n          children: \"\\u6211\\u7684NFT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: \"\\u52A0\\u8F7D\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: selectedTab === 'market' ? marketItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-800 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-binance-yellow font-bold\",\n              children: item.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-400\",\n              children: [\"#\", item.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: [\"\\u57FA\\u7840\\u7B97\\u529B: \", item.power]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: [\"\\u65E5\\u6536\\u76CA: \", item.dailyReward, \" ZONE\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: [\"\\u6700\\u5927\\u6536\\u76CA: \", item.maxReward, \" ZONE\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: [\"\\u5356\\u5BB6: \", item.seller]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-binance-yellow\",\n              children: [item.price, \" ZONE\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleBuy(item.id),\n            disabled: isApproving,\n            className: `w-full bg-binance-yellow text-binance-dark font-bold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity ${isApproving ? 'opacity-50 cursor-not-allowed' : ''}`,\n            children: isApproving ? '授权中...' : '购买'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 23\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this)) : myNFTs.map(nft => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-800 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-binance-yellow font-bold\",\n              children: nft.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-400\",\n              children: [\"#\", nft.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: [\"\\u57FA\\u7840\\u7B97\\u529B: \", nft.power]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: [\"\\u65E5\\u6536\\u76CA: \", nft.dailyReward, \" ZONE\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: [\"\\u6700\\u5927\\u6536\\u76CA: \", nft.maxReward, \" ZONE\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 25\n            }, this), nft.listed && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-binance-yellow\",\n              children: [\"\\u5F53\\u524D\\u4EF7\\u683C: \", nft.price, \" ZONE\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => nft.listed ? handleDelist(nft.id) : handleList(nft.id),\n            className: \"w-full bg-binance-yellow text-binance-dark font-bold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity\",\n            children: nft.listed ? '下架' : '上架出售'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 23\n          }, this)]\n        }, nft.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n};\n_s(NFTMarket, \"33IHmOYR0z/zdVOjE1YUc0RwzDs=\", false, function () {\n  return [useWeb3React];\n});\n_c = NFTMarket;\nexport default NFTMarket;\nvar _c;\n$RefreshReg$(_c, \"NFTMarket\");","map":{"version":3,"names":["React","useState","useEffect","useWeb3React","injected","ethers","jsxDEV","_jsxDEV","MYSTERY_BOX_ADDRESS","ZONE_TOKEN_ADDRESS","MYSTERY_BOX_ABI","ZONE_TOKEN_ABI","NFT_RARITY","NFTMarket","_s","active","account","activate","library","marketItems","setMarketItems","myNFTs","setMyNFTs","selectedTab","setSelectedTab","isLoading","setIsLoading","isApproving","setIsApproving","connectWallet","error","console","loadMarketData","contract","Contract","getSigner","myTokenIds","getOwnedNFTs","myNFTsData","Promise","all","map","tokenId","attributes","getNFTAttributes","listing","getMarketListing","id","toString","type","rarity","power","dailyReward","utils","formatEther","maxReward","listed","isActive","price","marketListings","marketItemsData","seller","checkAndApproveToken","tokenContract","allowance","lt","tx","approve","mul","wait","handleBuy","nftId","approved","alert","buyNFT","message","handleList","prompt","isApproved","isApprovedForAll","approveTx","setApprovalForAll","priceWei","parseEther","listNFT","handleDelist","unlistNFT","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","item","disabled","nft","_c","$RefreshReg$"],"sources":["c:/Users/Administrator/CascadeProjects/AIMiner/src/pages/NFTMarket.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport { injected } from '../utils/connectors';\nimport { ethers } from 'ethers';\n\n// 合约地址和ABI\nconst MYSTERY_BOX_ADDRESS = \"YOUR_MYSTERY_BOX_CONTRACT_ADDRESS\";\nconst ZONE_TOKEN_ADDRESS = \"YOUR_TOKEN_CONTRACT_ADDRESS\";\n\nconst MYSTERY_BOX_ABI = [\n  \"function getMarketListing(uint256 tokenId) external view returns (tuple(address seller, uint256 price, bool isActive))\",\n  \"function getNFTAttributes(uint256 tokenId) external view returns (tuple(uint8 rarity, uint256 power, uint256 dailyReward, uint256 maxReward))\",\n  \"function getOwnedNFTs(address user) external view returns (uint256[])\",\n  \"function listNFT(uint256 tokenId, uint256 price) external\",\n  \"function unlistNFT(uint256 tokenId) external\",\n  \"function buyNFT(uint256 tokenId) external\",\n  \"function approve(address to, uint256 tokenId) external\",\n  \"function isApprovedForAll(address owner, address operator) external view returns (bool)\",\n  \"function setApprovalForAll(address operator, bool approved) external\"\n];\n\nconst ZONE_TOKEN_ABI = [\n  \"function approve(address spender, uint256 amount) external returns (bool)\",\n  \"function allowance(address owner, address spender) external view returns (uint256)\",\n  \"function balanceOf(address account) external view returns (uint256)\"\n];\n\nconst NFT_RARITY = ['N', 'R', 'SR', 'SSR'];\n\nconst NFTMarket = () => {\n  const { active, account, activate, library } = useWeb3React();\n  const [marketItems, setMarketItems] = useState([]);\n  const [myNFTs, setMyNFTs] = useState([]);\n  const [selectedTab, setSelectedTab] = useState('market');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isApproving, setIsApproving] = useState(false);\n\n  const connectWallet = async () => {\n    try {\n      await activate(injected);\n    } catch (error) {\n      console.error('Error connecting wallet:', error);\n    }\n  };\n\n  const loadMarketData = async () => {\n    try {\n      const contract = new ethers.Contract(MYSTERY_BOX_ADDRESS, MYSTERY_BOX_ABI, library.getSigner());\n      \n      // 加载我的NFT\n      const myTokenIds = await contract.getOwnedNFTs(account);\n      const myNFTsData = await Promise.all(\n        myTokenIds.map(async (tokenId) => {\n          const attributes = await contract.getNFTAttributes(tokenId);\n          const listing = await contract.getMarketListing(tokenId);\n          return {\n            id: tokenId.toString(),\n            type: NFT_RARITY[attributes.rarity],\n            power: attributes.power.toString(),\n            dailyReward: ethers.utils.formatEther(attributes.dailyReward),\n            maxReward: ethers.utils.formatEther(attributes.maxReward),\n            listed: listing.isActive,\n            price: listing.isActive ? ethers.utils.formatEther(listing.price) : null\n          };\n        })\n      );\n      setMyNFTs(myNFTsData);\n\n      // 加载市场列表\n      // 这里需要一个获取所有市场挂单的方法，暂时使用模拟数据\n      const marketListings = []; // 这里应该从合约获取所有活跃的挂单\n      const marketItemsData = await Promise.all(\n        marketListings.map(async (tokenId) => {\n          const attributes = await contract.getNFTAttributes(tokenId);\n          const listing = await contract.getMarketListing(tokenId);\n          return {\n            id: tokenId.toString(),\n            type: NFT_RARITY[attributes.rarity],\n            power: attributes.power.toString(),\n            dailyReward: ethers.utils.formatEther(attributes.dailyReward),\n            maxReward: ethers.utils.formatEther(attributes.maxReward),\n            price: ethers.utils.formatEther(listing.price),\n            seller: listing.seller\n          };\n        })\n      );\n      setMarketItems(marketItemsData);\n\n      setIsLoading(false);\n    } catch (error) {\n      console.error('Error loading market data:', error);\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (active) {\n      loadMarketData();\n    }\n  }, [active, account]);\n\n  const checkAndApproveToken = async (price) => {\n    const tokenContract = new ethers.Contract(ZONE_TOKEN_ADDRESS, ZONE_TOKEN_ABI, library.getSigner());\n    const allowance = await tokenContract.allowance(account, MYSTERY_BOX_ADDRESS);\n    \n    if (allowance.lt(price)) {\n      setIsApproving(true);\n      try {\n        const tx = await tokenContract.approve(MYSTERY_BOX_ADDRESS, price.mul(2));\n        await tx.wait();\n        setIsApproving(false);\n        return true;\n      } catch (error) {\n        console.error('Error approving token:', error);\n        setIsApproving(false);\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const handleBuy = async (nftId) => {\n    try {\n      const contract = new ethers.Contract(MYSTERY_BOX_ADDRESS, MYSTERY_BOX_ABI, library.getSigner());\n      const listing = await contract.getMarketListing(nftId);\n      \n      // 检查并授权代币\n      const approved = await checkAndApproveToken(listing.price);\n      if (!approved) {\n        alert('代币授权失败');\n        return;\n      }\n\n      // 购买NFT\n      const tx = await contract.buyNFT(nftId);\n      await tx.wait();\n      \n      alert('购买成功！');\n      loadMarketData();\n    } catch (error) {\n      console.error('Error buying NFT:', error);\n      alert('购买失败: ' + error.message);\n    }\n  };\n\n  const handleList = async (nftId) => {\n    try {\n      const price = prompt('请输入上架价格 (ZONE):');\n      if (!price) return;\n\n      const contract = new ethers.Contract(MYSTERY_BOX_ADDRESS, MYSTERY_BOX_ABI, library.getSigner());\n      \n      // 检查NFT授权\n      const isApproved = await contract.isApprovedForAll(account, MYSTERY_BOX_ADDRESS);\n      if (!isApproved) {\n        const approveTx = await contract.setApprovalForAll(MYSTERY_BOX_ADDRESS, true);\n        await approveTx.wait();\n      }\n\n      // 上架NFT\n      const priceWei = ethers.utils.parseEther(price);\n      const tx = await contract.listNFT(nftId, priceWei);\n      await tx.wait();\n      \n      alert('上架成功！');\n      loadMarketData();\n    } catch (error) {\n      console.error('Error listing NFT:', error);\n      alert('上架失败: ' + error.message);\n    }\n  };\n\n  const handleDelist = async (nftId) => {\n    try {\n      const contract = new ethers.Contract(MYSTERY_BOX_ADDRESS, MYSTERY_BOX_ABI, library.getSigner());\n      const tx = await contract.unlistNFT(nftId);\n      await tx.wait();\n      \n      alert('下架成功！');\n      loadMarketData();\n    } catch (error) {\n      console.error('Error delisting NFT:', error);\n      alert('下架失败: ' + error.message);\n    }\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto bg-binance-dark p-6 rounded-lg shadow-lg\">\n      <h1 className=\"text-2xl font-bold text-binance-yellow mb-6\">NFT 交易市场</h1>\n\n      {!active ? (\n        <button\n          onClick={connectWallet}\n          className=\"w-full bg-binance-yellow text-binance-dark font-bold py-3 px-4 rounded-lg hover:opacity-90 transition-opacity\"\n        >\n          连接钱包\n        </button>\n      ) : (\n        <div className=\"space-y-6\">\n          <div className=\"flex space-x-4 border-b border-gray-700\">\n            <button\n              className={`px-4 py-2 ${\n                selectedTab === 'market'\n                  ? 'text-binance-yellow border-b-2 border-binance-yellow'\n                  : 'text-gray-400'\n              }`}\n              onClick={() => setSelectedTab('market')}\n            >\n              市场列表\n            </button>\n            <button\n              className={`px-4 py-2 ${\n                selectedTab === 'my-nfts'\n                  ? 'text-binance-yellow border-b-2 border-binance-yellow'\n                  : 'text-gray-400'\n              }`}\n              onClick={() => setSelectedTab('my-nfts')}\n            >\n              我的NFT\n            </button>\n          </div>\n\n          {isLoading ? (\n            <div className=\"text-center py-8\">加载中...</div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {selectedTab === 'market'\n                ? marketItems.map(item => (\n                    <div key={item.id} className=\"bg-gray-800 p-4 rounded-lg\">\n                      <div className=\"flex justify-between items-center mb-4\">\n                        <span className=\"text-binance-yellow font-bold\">{item.type}</span>\n                        <span className=\"text-sm text-gray-400\">#{item.id}</span>\n                      </div>\n                      <div className=\"space-y-2 mb-4\">\n                        <p className=\"text-sm\">基础算力: {item.power}</p>\n                        <p className=\"text-sm\">日收益: {item.dailyReward} ZONE</p>\n                        <p className=\"text-sm\">最大收益: {item.maxReward} ZONE</p>\n                        <p className=\"text-sm\">卖家: {item.seller}</p>\n                        <p className=\"text-lg font-bold text-binance-yellow\">\n                          {item.price} ZONE\n                        </p>\n                      </div>\n                      <button\n                        onClick={() => handleBuy(item.id)}\n                        disabled={isApproving}\n                        className={`w-full bg-binance-yellow text-binance-dark font-bold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity ${\n                          isApproving ? 'opacity-50 cursor-not-allowed' : ''\n                        }`}\n                      >\n                        {isApproving ? '授权中...' : '购买'}\n                      </button>\n                    </div>\n                  ))\n                : myNFTs.map(nft => (\n                    <div key={nft.id} className=\"bg-gray-800 p-4 rounded-lg\">\n                      <div className=\"flex justify-between items-center mb-4\">\n                        <span className=\"text-binance-yellow font-bold\">{nft.type}</span>\n                        <span className=\"text-sm text-gray-400\">#{nft.id}</span>\n                      </div>\n                      <div className=\"space-y-2 mb-4\">\n                        <p className=\"text-sm\">基础算力: {nft.power}</p>\n                        <p className=\"text-sm\">日收益: {nft.dailyReward} ZONE</p>\n                        <p className=\"text-sm\">最大收益: {nft.maxReward} ZONE</p>\n                        {nft.listed && (\n                          <p className=\"text-lg font-bold text-binance-yellow\">\n                            当前价格: {nft.price} ZONE\n                          </p>\n                        )}\n                      </div>\n                      <button\n                        onClick={() =>\n                          nft.listed ? handleDelist(nft.id) : handleList(nft.id)\n                        }\n                        className=\"w-full bg-binance-yellow text-binance-dark font-bold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity\"\n                      >\n                        {nft.listed ? '下架' : '上架出售'}\n                      </button>\n                    </div>\n                  ))}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default NFTMarket;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,YAAY,QAAQ,kBAAkB;AAC/C,SAASC,QAAQ,QAAQ,qBAAqB;AAC9C,SAASC,MAAM,QAAQ,QAAQ;;AAE/B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,mBAAmB,GAAG,mCAAmC;AAC/D,MAAMC,kBAAkB,GAAG,6BAA6B;AAExD,MAAMC,eAAe,GAAG,CACtB,wHAAwH,EACxH,+IAA+I,EAC/I,uEAAuE,EACvE,2DAA2D,EAC3D,8CAA8C,EAC9C,2CAA2C,EAC3C,wDAAwD,EACxD,yFAAyF,EACzF,sEAAsE,CACvE;AAED,MAAMC,cAAc,GAAG,CACrB,2EAA2E,EAC3E,oFAAoF,EACpF,qEAAqE,CACtE;AAED,MAAMC,UAAU,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC;AAE1C,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM;IAAEC,MAAM;IAAEC,OAAO;IAAEC,QAAQ;IAAEC;EAAQ,CAAC,GAAGf,YAAY,CAAC,CAAC;EAC7D,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACoB,MAAM,EAAEC,SAAS,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACsB,WAAW,EAAEC,cAAc,CAAC,GAAGvB,QAAQ,CAAC,QAAQ,CAAC;EACxD,MAAM,CAACwB,SAAS,EAAEC,YAAY,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC0B,WAAW,EAAEC,cAAc,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EAErD,MAAM4B,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAMZ,QAAQ,CAACb,QAAQ,CAAC;IAC1B,CAAC,CAAC,OAAO0B,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD;EACF,CAAC;EAED,MAAME,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMC,QAAQ,GAAG,IAAI5B,MAAM,CAAC6B,QAAQ,CAAC1B,mBAAmB,EAAEE,eAAe,EAAEQ,OAAO,CAACiB,SAAS,CAAC,CAAC,CAAC;;MAE/F;MACA,MAAMC,UAAU,GAAG,MAAMH,QAAQ,CAACI,YAAY,CAACrB,OAAO,CAAC;MACvD,MAAMsB,UAAU,GAAG,MAAMC,OAAO,CAACC,GAAG,CAClCJ,UAAU,CAACK,GAAG,CAAC,MAAOC,OAAO,IAAK;QAChC,MAAMC,UAAU,GAAG,MAAMV,QAAQ,CAACW,gBAAgB,CAACF,OAAO,CAAC;QAC3D,MAAMG,OAAO,GAAG,MAAMZ,QAAQ,CAACa,gBAAgB,CAACJ,OAAO,CAAC;QACxD,OAAO;UACLK,EAAE,EAAEL,OAAO,CAACM,QAAQ,CAAC,CAAC;UACtBC,IAAI,EAAErC,UAAU,CAAC+B,UAAU,CAACO,MAAM,CAAC;UACnCC,KAAK,EAAER,UAAU,CAACQ,KAAK,CAACH,QAAQ,CAAC,CAAC;UAClCI,WAAW,EAAE/C,MAAM,CAACgD,KAAK,CAACC,WAAW,CAACX,UAAU,CAACS,WAAW,CAAC;UAC7DG,SAAS,EAAElD,MAAM,CAACgD,KAAK,CAACC,WAAW,CAACX,UAAU,CAACY,SAAS,CAAC;UACzDC,MAAM,EAAEX,OAAO,CAACY,QAAQ;UACxBC,KAAK,EAAEb,OAAO,CAACY,QAAQ,GAAGpD,MAAM,CAACgD,KAAK,CAACC,WAAW,CAACT,OAAO,CAACa,KAAK,CAAC,GAAG;QACtE,CAAC;MACH,CAAC,CACH,CAAC;MACDpC,SAAS,CAACgB,UAAU,CAAC;;MAErB;MACA;MACA,MAAMqB,cAAc,GAAG,EAAE,CAAC,CAAC;MAC3B,MAAMC,eAAe,GAAG,MAAMrB,OAAO,CAACC,GAAG,CACvCmB,cAAc,CAAClB,GAAG,CAAC,MAAOC,OAAO,IAAK;QACpC,MAAMC,UAAU,GAAG,MAAMV,QAAQ,CAACW,gBAAgB,CAACF,OAAO,CAAC;QAC3D,MAAMG,OAAO,GAAG,MAAMZ,QAAQ,CAACa,gBAAgB,CAACJ,OAAO,CAAC;QACxD,OAAO;UACLK,EAAE,EAAEL,OAAO,CAACM,QAAQ,CAAC,CAAC;UACtBC,IAAI,EAAErC,UAAU,CAAC+B,UAAU,CAACO,MAAM,CAAC;UACnCC,KAAK,EAAER,UAAU,CAACQ,KAAK,CAACH,QAAQ,CAAC,CAAC;UAClCI,WAAW,EAAE/C,MAAM,CAACgD,KAAK,CAACC,WAAW,CAACX,UAAU,CAACS,WAAW,CAAC;UAC7DG,SAAS,EAAElD,MAAM,CAACgD,KAAK,CAACC,WAAW,CAACX,UAAU,CAACY,SAAS,CAAC;UACzDG,KAAK,EAAErD,MAAM,CAACgD,KAAK,CAACC,WAAW,CAACT,OAAO,CAACa,KAAK,CAAC;UAC9CG,MAAM,EAAEhB,OAAO,CAACgB;QAClB,CAAC;MACH,CAAC,CACH,CAAC;MACDzC,cAAc,CAACwC,eAAe,CAAC;MAE/BlC,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDJ,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAEDxB,SAAS,CAAC,MAAM;IACd,IAAIa,MAAM,EAAE;MACViB,cAAc,CAAC,CAAC;IAClB;EACF,CAAC,EAAE,CAACjB,MAAM,EAAEC,OAAO,CAAC,CAAC;EAErB,MAAM8C,oBAAoB,GAAG,MAAOJ,KAAK,IAAK;IAC5C,MAAMK,aAAa,GAAG,IAAI1D,MAAM,CAAC6B,QAAQ,CAACzB,kBAAkB,EAAEE,cAAc,EAAEO,OAAO,CAACiB,SAAS,CAAC,CAAC,CAAC;IAClG,MAAM6B,SAAS,GAAG,MAAMD,aAAa,CAACC,SAAS,CAAChD,OAAO,EAAER,mBAAmB,CAAC;IAE7E,IAAIwD,SAAS,CAACC,EAAE,CAACP,KAAK,CAAC,EAAE;MACvB9B,cAAc,CAAC,IAAI,CAAC;MACpB,IAAI;QACF,MAAMsC,EAAE,GAAG,MAAMH,aAAa,CAACI,OAAO,CAAC3D,mBAAmB,EAAEkD,KAAK,CAACU,GAAG,CAAC,CAAC,CAAC,CAAC;QACzE,MAAMF,EAAE,CAACG,IAAI,CAAC,CAAC;QACfzC,cAAc,CAAC,KAAK,CAAC;QACrB,OAAO,IAAI;MACb,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9CF,cAAc,CAAC,KAAK,CAAC;QACrB,OAAO,KAAK;MACd;IACF;IACA,OAAO,IAAI;EACb,CAAC;EAED,MAAM0C,SAAS,GAAG,MAAOC,KAAK,IAAK;IACjC,IAAI;MACF,MAAMtC,QAAQ,GAAG,IAAI5B,MAAM,CAAC6B,QAAQ,CAAC1B,mBAAmB,EAAEE,eAAe,EAAEQ,OAAO,CAACiB,SAAS,CAAC,CAAC,CAAC;MAC/F,MAAMU,OAAO,GAAG,MAAMZ,QAAQ,CAACa,gBAAgB,CAACyB,KAAK,CAAC;;MAEtD;MACA,MAAMC,QAAQ,GAAG,MAAMV,oBAAoB,CAACjB,OAAO,CAACa,KAAK,CAAC;MAC1D,IAAI,CAACc,QAAQ,EAAE;QACbC,KAAK,CAAC,QAAQ,CAAC;QACf;MACF;;MAEA;MACA,MAAMP,EAAE,GAAG,MAAMjC,QAAQ,CAACyC,MAAM,CAACH,KAAK,CAAC;MACvC,MAAML,EAAE,CAACG,IAAI,CAAC,CAAC;MAEfI,KAAK,CAAC,OAAO,CAAC;MACdzC,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzC2C,KAAK,CAAC,QAAQ,GAAG3C,KAAK,CAAC6C,OAAO,CAAC;IACjC;EACF,CAAC;EAED,MAAMC,UAAU,GAAG,MAAOL,KAAK,IAAK;IAClC,IAAI;MACF,MAAMb,KAAK,GAAGmB,MAAM,CAAC,iBAAiB,CAAC;MACvC,IAAI,CAACnB,KAAK,EAAE;MAEZ,MAAMzB,QAAQ,GAAG,IAAI5B,MAAM,CAAC6B,QAAQ,CAAC1B,mBAAmB,EAAEE,eAAe,EAAEQ,OAAO,CAACiB,SAAS,CAAC,CAAC,CAAC;;MAE/F;MACA,MAAM2C,UAAU,GAAG,MAAM7C,QAAQ,CAAC8C,gBAAgB,CAAC/D,OAAO,EAAER,mBAAmB,CAAC;MAChF,IAAI,CAACsE,UAAU,EAAE;QACf,MAAME,SAAS,GAAG,MAAM/C,QAAQ,CAACgD,iBAAiB,CAACzE,mBAAmB,EAAE,IAAI,CAAC;QAC7E,MAAMwE,SAAS,CAACX,IAAI,CAAC,CAAC;MACxB;;MAEA;MACA,MAAMa,QAAQ,GAAG7E,MAAM,CAACgD,KAAK,CAAC8B,UAAU,CAACzB,KAAK,CAAC;MAC/C,MAAMQ,EAAE,GAAG,MAAMjC,QAAQ,CAACmD,OAAO,CAACb,KAAK,EAAEW,QAAQ,CAAC;MAClD,MAAMhB,EAAE,CAACG,IAAI,CAAC,CAAC;MAEfI,KAAK,CAAC,OAAO,CAAC;MACdzC,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1C2C,KAAK,CAAC,QAAQ,GAAG3C,KAAK,CAAC6C,OAAO,CAAC;IACjC;EACF,CAAC;EAED,MAAMU,YAAY,GAAG,MAAOd,KAAK,IAAK;IACpC,IAAI;MACF,MAAMtC,QAAQ,GAAG,IAAI5B,MAAM,CAAC6B,QAAQ,CAAC1B,mBAAmB,EAAEE,eAAe,EAAEQ,OAAO,CAACiB,SAAS,CAAC,CAAC,CAAC;MAC/F,MAAM+B,EAAE,GAAG,MAAMjC,QAAQ,CAACqD,SAAS,CAACf,KAAK,CAAC;MAC1C,MAAML,EAAE,CAACG,IAAI,CAAC,CAAC;MAEfI,KAAK,CAAC,OAAO,CAAC;MACdzC,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C2C,KAAK,CAAC,QAAQ,GAAG3C,KAAK,CAAC6C,OAAO,CAAC;IACjC;EACF,CAAC;EAED,oBACEpE,OAAA;IAAKgF,SAAS,EAAC,4DAA4D;IAAAC,QAAA,gBACzEjF,OAAA;MAAIgF,SAAS,EAAC,6CAA6C;MAAAC,QAAA,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAExE,CAAC7E,MAAM,gBACNR,OAAA;MACEsF,OAAO,EAAEhE,aAAc;MACvB0D,SAAS,EAAC,+GAA+G;MAAAC,QAAA,EAC1H;IAED;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,gBAETrF,OAAA;MAAKgF,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxBjF,OAAA;QAAKgF,SAAS,EAAC,yCAAyC;QAAAC,QAAA,gBACtDjF,OAAA;UACEgF,SAAS,EAAE,aACThE,WAAW,KAAK,QAAQ,GACpB,sDAAsD,GACtD,eAAe,EAClB;UACHsE,OAAO,EAAEA,CAAA,KAAMrE,cAAc,CAAC,QAAQ,CAAE;UAAAgE,QAAA,EACzC;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTrF,OAAA;UACEgF,SAAS,EAAE,aACThE,WAAW,KAAK,SAAS,GACrB,sDAAsD,GACtD,eAAe,EAClB;UACHsE,OAAO,EAAEA,CAAA,KAAMrE,cAAc,CAAC,SAAS,CAAE;UAAAgE,QAAA,EAC1C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EAELnE,SAAS,gBACRlB,OAAA;QAAKgF,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,gBAE9CrF,OAAA;QAAKgF,SAAS,EAAC,sDAAsD;QAAAC,QAAA,EAClEjE,WAAW,KAAK,QAAQ,GACrBJ,WAAW,CAACsB,GAAG,CAACqD,IAAI,iBAClBvF,OAAA;UAAmBgF,SAAS,EAAC,4BAA4B;UAAAC,QAAA,gBACvDjF,OAAA;YAAKgF,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrDjF,OAAA;cAAMgF,SAAS,EAAC,+BAA+B;cAAAC,QAAA,EAAEM,IAAI,CAAC7C;YAAI;cAAAwC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAClErF,OAAA;cAAMgF,SAAS,EAAC,uBAAuB;cAAAC,QAAA,GAAC,GAAC,EAACM,IAAI,CAAC/C,EAAE;YAAA;cAAA0C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtD,CAAC,eACNrF,OAAA;YAAKgF,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAC7BjF,OAAA;cAAGgF,SAAS,EAAC,SAAS;cAAAC,QAAA,GAAC,4BAAM,EAACM,IAAI,CAAC3C,KAAK;YAAA;cAAAsC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC7CrF,OAAA;cAAGgF,SAAS,EAAC,SAAS;cAAAC,QAAA,GAAC,sBAAK,EAACM,IAAI,CAAC1C,WAAW,EAAC,OAAK;YAAA;cAAAqC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACvDrF,OAAA;cAAGgF,SAAS,EAAC,SAAS;cAAAC,QAAA,GAAC,4BAAM,EAACM,IAAI,CAACvC,SAAS,EAAC,OAAK;YAAA;cAAAkC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACtDrF,OAAA;cAAGgF,SAAS,EAAC,SAAS;cAAAC,QAAA,GAAC,gBAAI,EAACM,IAAI,CAACjC,MAAM;YAAA;cAAA4B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5CrF,OAAA;cAAGgF,SAAS,EAAC,uCAAuC;cAAAC,QAAA,GACjDM,IAAI,CAACpC,KAAK,EAAC,OACd;YAAA;cAAA+B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eACNrF,OAAA;YACEsF,OAAO,EAAEA,CAAA,KAAMvB,SAAS,CAACwB,IAAI,CAAC/C,EAAE,CAAE;YAClCgD,QAAQ,EAAEpE,WAAY;YACtB4D,SAAS,EAAE,iHACT5D,WAAW,GAAG,+BAA+B,GAAG,EAAE,EACjD;YAAA6D,QAAA,EAEF7D,WAAW,GAAG,QAAQ,GAAG;UAAI;YAAA8D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC;QAAA,GAtBDE,IAAI,CAAC/C,EAAE;UAAA0C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAuBZ,CACN,CAAC,GACFvE,MAAM,CAACoB,GAAG,CAACuD,GAAG,iBACZzF,OAAA;UAAkBgF,SAAS,EAAC,4BAA4B;UAAAC,QAAA,gBACtDjF,OAAA;YAAKgF,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrDjF,OAAA;cAAMgF,SAAS,EAAC,+BAA+B;cAAAC,QAAA,EAAEQ,GAAG,CAAC/C;YAAI;cAAAwC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjErF,OAAA;cAAMgF,SAAS,EAAC,uBAAuB;cAAAC,QAAA,GAAC,GAAC,EAACQ,GAAG,CAACjD,EAAE;YAAA;cAAA0C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrD,CAAC,eACNrF,OAAA;YAAKgF,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAC7BjF,OAAA;cAAGgF,SAAS,EAAC,SAAS;cAAAC,QAAA,GAAC,4BAAM,EAACQ,GAAG,CAAC7C,KAAK;YAAA;cAAAsC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5CrF,OAAA;cAAGgF,SAAS,EAAC,SAAS;cAAAC,QAAA,GAAC,sBAAK,EAACQ,GAAG,CAAC5C,WAAW,EAAC,OAAK;YAAA;cAAAqC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACtDrF,OAAA;cAAGgF,SAAS,EAAC,SAAS;cAAAC,QAAA,GAAC,4BAAM,EAACQ,GAAG,CAACzC,SAAS,EAAC,OAAK;YAAA;cAAAkC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,EACpDI,GAAG,CAACxC,MAAM,iBACTjD,OAAA;cAAGgF,SAAS,EAAC,uCAAuC;cAAAC,QAAA,GAAC,4BAC7C,EAACQ,GAAG,CAACtC,KAAK,EAAC,OACnB;YAAA;cAAA+B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CACJ;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACNrF,OAAA;YACEsF,OAAO,EAAEA,CAAA,KACPG,GAAG,CAACxC,MAAM,GAAG6B,YAAY,CAACW,GAAG,CAACjD,EAAE,CAAC,GAAG6B,UAAU,CAACoB,GAAG,CAACjD,EAAE,CACtD;YACDwC,SAAS,EAAC,+GAA+G;YAAAC,QAAA,EAExHQ,GAAG,CAACxC,MAAM,GAAG,IAAI,GAAG;UAAM;YAAAiC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB,CAAC;QAAA,GAtBDI,GAAG,CAACjD,EAAE;UAAA0C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAuBX,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC9E,EAAA,CAhQID,SAAS;EAAA,QACkCV,YAAY;AAAA;AAAA8F,EAAA,GADvDpF,SAAS;AAkQf,eAAeA,SAAS;AAAC,IAAAoF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}