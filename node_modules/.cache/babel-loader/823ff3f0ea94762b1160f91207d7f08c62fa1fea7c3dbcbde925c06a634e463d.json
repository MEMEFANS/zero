{"ast":null,"code":"import { InjectedConnector } from '@web3-react/injected-connector';\nexport const injected = new InjectedConnector({\n  supportedChainIds: [56, 97] // BSC Mainnet and Testnet\n});\nexport const setupNetwork = async () => {\n  const provider = window.ethereum;\n  if (provider) {\n    try {\n      // First try to switch to the BSC network\n      try {\n        await provider.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{\n            chainId: '0x38'\n          }] // BSC Mainnet\n        });\n        return true;\n      } catch (switchError) {\n        // This error code indicates that the chain has not been added to MetaMask\n        if (switchError.code === 4902) {\n          await provider.request({\n            method: 'wallet_addEthereumChain',\n            params: [{\n              chainId: '0x38',\n              chainName: 'BNB Smart Chain',\n              nativeCurrency: {\n                name: 'BNB',\n                symbol: 'bnb',\n                decimals: 18\n              },\n              rpcUrls: ['https://bsc-dataseed.binance.org/'],\n              blockExplorerUrls: ['https://bscscan.com/']\n            }]\n          });\n          return true;\n        }\n        throw switchError;\n      }\n    } catch (error) {\n      console.error('Failed to setup the BSC network in Metamask:', error);\n      return false;\n    }\n  } else {\n    console.error(\"Can't setup the BSC network on metamask because window.ethereum is undefined\");\n    return false;\n  }\n};","map":{"version":3,"names":["InjectedConnector","injected","supportedChainIds","setupNetwork","provider","window","ethereum","request","method","params","chainId","switchError","code","chainName","nativeCurrency","name","symbol","decimals","rpcUrls","blockExplorerUrls","error","console"],"sources":["c:/Users/Administrator/CascadeProjects/AIMiner/src/utils/connectors.js"],"sourcesContent":["import { InjectedConnector } from '@web3-react/injected-connector';\n\nexport const injected = new InjectedConnector({\n  supportedChainIds: [56, 97] // BSC Mainnet and Testnet\n});\n\nexport const setupNetwork = async () => {\n  const provider = window.ethereum;\n  if (provider) {\n    try {\n      // First try to switch to the BSC network\n      try {\n        await provider.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{ chainId: '0x38' }], // BSC Mainnet\n        });\n        return true;\n      } catch (switchError) {\n        // This error code indicates that the chain has not been added to MetaMask\n        if (switchError.code === 4902) {\n          await provider.request({\n            method: 'wallet_addEthereumChain',\n            params: [{\n              chainId: '0x38',\n              chainName: 'BNB Smart Chain',\n              nativeCurrency: {\n                name: 'BNB',\n                symbol: 'bnb',\n                decimals: 18,\n              },\n              rpcUrls: ['https://bsc-dataseed.binance.org/'],\n              blockExplorerUrls: ['https://bscscan.com/'],\n            }],\n          });\n          return true;\n        }\n        throw switchError;\n      }\n    } catch (error) {\n      console.error('Failed to setup the BSC network in Metamask:', error);\n      return false;\n    }\n  } else {\n    console.error(\"Can't setup the BSC network on metamask because window.ethereum is undefined\");\n    return false;\n  }\n};\n"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,gCAAgC;AAElE,OAAO,MAAMC,QAAQ,GAAG,IAAID,iBAAiB,CAAC;EAC5CE,iBAAiB,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AAC9B,CAAC,CAAC;AAEF,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;EACtC,MAAMC,QAAQ,GAAGC,MAAM,CAACC,QAAQ;EAChC,IAAIF,QAAQ,EAAE;IACZ,IAAI;MACF;MACA,IAAI;QACF,MAAMA,QAAQ,CAACG,OAAO,CAAC;UACrBC,MAAM,EAAE,4BAA4B;UACpCC,MAAM,EAAE,CAAC;YAAEC,OAAO,EAAE;UAAO,CAAC,CAAC,CAAE;QACjC,CAAC,CAAC;QACF,OAAO,IAAI;MACb,CAAC,CAAC,OAAOC,WAAW,EAAE;QACpB;QACA,IAAIA,WAAW,CAACC,IAAI,KAAK,IAAI,EAAE;UAC7B,MAAMR,QAAQ,CAACG,OAAO,CAAC;YACrBC,MAAM,EAAE,yBAAyB;YACjCC,MAAM,EAAE,CAAC;cACPC,OAAO,EAAE,MAAM;cACfG,SAAS,EAAE,iBAAiB;cAC5BC,cAAc,EAAE;gBACdC,IAAI,EAAE,KAAK;gBACXC,MAAM,EAAE,KAAK;gBACbC,QAAQ,EAAE;cACZ,CAAC;cACDC,OAAO,EAAE,CAAC,mCAAmC,CAAC;cAC9CC,iBAAiB,EAAE,CAAC,sBAAsB;YAC5C,CAAC;UACH,CAAC,CAAC;UACF,OAAO,IAAI;QACb;QACA,MAAMR,WAAW;MACnB;IACF,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8CAA8C,EAAEA,KAAK,CAAC;MACpE,OAAO,KAAK;IACd;EACF,CAAC,MAAM;IACLC,OAAO,CAACD,KAAK,CAAC,8EAA8E,CAAC;IAC7F,OAAO,KAAK;EACd;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}